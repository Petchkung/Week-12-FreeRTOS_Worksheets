# Lab 2: Mutex and Critical Sections 
### คำถามสำหรับการทดลอง
1. เมื่อไม่ใช้ Mutex จะเกิด data corruption หรือไม่?
  - เกิดแน่นอน ❌
เพราะหลาย Task อาจเข้าถึงและแก้ไข ทรัพยากรร่วม (Shared Resource) พร้อมกันในเวลาเดียวกัน
ทำให้ข้อมูล เขียนทับกันหรือไม่สอดคล้องกัน — ซึ่งเรียกว่า Race Condition
ส่งผลให้ค่าที่ได้ไม่ถูกต้อง หรือระบบทำงานผิดพลาด
2. Priority Inheritance ทำงานอย่างไร?
- เมื่อ Task Priority ต่ำถือ Mutex อยู่ แล้วมี Task Priority สูง ต้องการใช้ทรัพยากรเดียวกัน
ระบบจะ ยก Priority ชั่วคราว ให้ Task ที่ถือ Mutex อยู่ เพื่อให้มัน
    - ทำงานให้เสร็จเร็วขึ้น
    - และคืน Mutex ให้ไวที่สุด
- จากนั้น Priority ของ Task จะ ถูกลดกลับเป็นค่าปกติ หลังจากคืน Mutex แล้ว
    - กลไกนี้ช่วย ป้องกันปัญหา Priority Inversion (Task สำคัญต้องรอนานเกินไป)
3. Task priority มีผลต่อการเข้าถึง shared resource อย่างไร?
- Task ที่มี Priority สูงกว่า จะได้รับ CPU ก่อน →
จึงมีโอกาสเข้าถึง Shared Resource ก่อน Task อื่น

- แต่หาก Resource ถูกล็อกโดย Task ที่มี Priority ต่ำกว่า
ระบบจะใช้ Priority Inheritance เข้ามาช่วย เพื่อให้ Task ล่างทำงานเสร็จและคืน Mutex ได้เร็วขึ้น
➡️ ช่วยให้ระบบยังคงตอบสนองได้รวดเร็ว และลดปัญหาการรอค้างของ Task สำคัญ

# Lab 3: Queue Sets Implementation (30 นาที)
### คำถามสำหรับการทดลอง
1. Processor Task รู้ได้อย่างไรว่าข้อมูลมาจาก Queue ไหน?
- เมื่อมี Queue ใดถูกกระตุ้น (Activated) ก่อนใน Queue Set,
- ระบบจะส่ง Handle ของ Queue นั้น กลับมาให้ Processor Task ผ่านฟังก์ชัน เช่น
```
xQueueSelectFromSet(queue_set, portMAX_DELAY);
```
- จาก Handle ที่ได้รับ Processor Task จะรู้ได้ทันทีว่า ข้อมูลมาจาก Queue ไหน
และสามารถรับข้อมูลจาก Queue นั้นได้โดยตรง
3. เมื่อหลาย Queue มีข้อมูลพร้อมกัน เลือกประมวลผลอันไหนก่อน?
- หากหลาย Queue มีข้อมูลพร้อมกันในเวลาเดียวกัน
ระบบจะเลือก Queue ที่ถูกเพิ่มเข้า Queue Set ก่อน (ตามลำดับที่ประกาศไว้)
- ดังนั้น ลำดับการเพิ่ม Queue เข้าสู่ Queue Set มีผลต่อการเลือกประมวลผล
3. Queue Sets ช่วยประหยัด CPU อย่างไร?
- ปกติ หากไม่มี Queue Set ระบบต้อง วนเช็กทุก Queue (Polling) เพื่อดูว่ามีข้อมูลหรือไม่
- แต่เมื่อใช้ Queue Set:
   - Task จะ รออยู่ในฟังก์ชันเดียว จนกว่าจะมี Queue ใด “พร้อม”
   - ทำให้ CPU ไม่ต้องทำงานตลอดเวลา และสามารถไปทำงานอื่น หรือเข้าสู่โหมดประหยัดพลังงานได้
     ส่งผลให้ ประหยัดทั้งเวลาและพลังงานของระบบ มากขึ้น
